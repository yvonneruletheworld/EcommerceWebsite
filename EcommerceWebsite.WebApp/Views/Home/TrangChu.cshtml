
@{
    ViewData["Title"] = "TRIPLE V - Trang Chủ";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var queryPageIndex = Context.Request.Query["pageIndex"];
    var valPageIndex = queryPageIndex.Count > 0 ? (int.TryParse(queryPageIndex[0], out int idx) ? idx : 1) : 1;

}
<!-- OFFER -->
<section class="offer section">
    

    <h2>Danh Sách Sản Phẩm Theo Phân Trang</h2>

    <table class="table-section"></table>

    @*<div class="offer__container">
        <div class="row row-cols-5">
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/248284/samsung-galaxy-z-fold-3-green-1-600x600.jpg"
                             alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>Samsung Galaxy Z Fold3 5G 512GB</p>
                    <p>43.990.000₫</p>
                </div>
            </div>
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/213031/iphone-12-xanh-duong-new-2-600x600.jpg" alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>iPhone 12 64GB</p>
                    <p>20.490.000₫</p>
                </div>
            </div>
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/251216/xiaomi-11t-grey-1-600x600.jpg" alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>Xiaomi 11T 5G 256GB</p>
                    <p>11.990.000₫</p>
                </div>
            </div>
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/247507/samsung-galaxy-a52s-5g-mint-600x600.jpg" alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>Samsung Galaxy A52s 5G</p>
                    <p>10.990.000₫</p>
                </div>
            </div>
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/239747/oppo-reno6-z-5g-aurora-1-600x600.jpg" alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>OPPO Reno6 Z 5G</p>
                    <p>9.490.000₫</p>
                </div>
            </div>
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/224859/samsung-galaxy-s20-fan-edition-090320-040338-600x600.jpg"
                             alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>Samsung Galaxy S20 FE (8GB/256GB)</p>
                    <p>15.490.000₫</p>
                </div>
            </div>
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/249427/xiaomi-11-lite-5g-ne-pink-600x600.jpg" alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>Xiaomi 11 Lite 5G NE</p>
                    <p>9.490.000₫</p>
                </div>
            </div>
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/115343/vivo-y21-white-01-1-600x600.jpg" alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>Vivo Y21</p>
                    <p>4.290.000₫</p>
                </div>
            </div>
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/239747/oppo-reno6-z-5g-aurora-1-600x600.jpg" alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>OPPO Reno6 Z 5G</p>
                    <p>9.490.000₫</p>
                </div>
            </div>
            <div class="col offer__col">
                <div class="offer__item">
                    <div class="offer__img">
                        <img src="https://cdn.tgdd.vn/Products/Images/42/115343/vivo-y21-white-01-1-600x600.jpg" alt="">
                        <div class="offer__details">
                            <div class="offer__details-item">
                                <button type="submit" class="btn">Thêm vào giỏ</button>
                                <i class="fas fa-heart"></i>
                                <i class="fas fa-signal"></i>
                            </div>
                        </div>
                    </div>
                    <p>OPPO Reno6 Z 5G</p>
                    <p>9.490.000₫</p>
                </div>
            </div>
        </div>
    </div>*@
</section>

<script>
    let gPageIndex = 1;

    $(document).ready(() => {
        gPageIndex = @valPageIndex ;
        initResourceFilterQuery();

    })

    function initResourceFilterQuery() {
        getDataSanPham(gPageIndex);
    }

    function getDataSanPham(pId) {
        gPageIndex = pId;
        //load san pham bang ajax
        $.ajax({
            url: '/get-data-sanpham?pageIndex=' + pId,
            type: 'GET',
            dataType: 'html',
            success: (result) => {
                $(".table-section")[0].innerHTML = result;
            },
            error: (err) => {
                alert('failed');
                console.log(err);
            }
        });
    }

    function selectCheckboxAll() {

    }

    function sortByColumn(fieldSort) {

    }

    function selectCheckboxItem() {

    }


</script>